- name: Define oci_adb_main_tns
  set_fact:
    oci_adb_main_tns: "{{ oci_adb_user }}/{{ oci_adb_pass }}@{{ oci_adb_tns }}"
  when: oci_adb_use_wallet == false

- name: Define oci_adb_main_tns
  set_fact:
    oci_adb_main_tns: "/@{{ oci_adb_user }}"
  when: oci_adb_use_wallet == true

# - name: Generate oci_adb_transient_user
#   set_fact:
#     oci_adb_transient_user: "{{ oci_adb_user }}_{{ db_version | replace('.', '') }}"
#   when: oci_adb_force_transient_user is undefined or (oci_adb_force_transient_user|length == 0)

# - name: Force oci_adb_transient_user
#   set_fact:
#     oci_adb_transient_user: "{{ oci_adb_force_transient_user }}"
#   when: not (oci_adb_force_transient_user is undefined or (oci_adb_force_transient_user|length == 0))

# - name: Define oci_adb_connection_tns
#   set_fact:
#     oci_adb_connection_tns: "{{ oci_adb_transient_user }}/{{ oci_adb_pass }}@{{ oci_adb_tns }}"
#   when: oci_adb_use_wallet == false

# - name: Define oci_adb_connection_tns
#   set_fact:
#     oci_adb_connection_tns: "/@{{ oci_adb_transient_user }}"
#   when: oci_adb_use_wallet == true
